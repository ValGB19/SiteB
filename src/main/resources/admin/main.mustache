{{>../public/header}}
<title>Administrador | PRODE</title>
<div class="container-fluid">
	<div class="row">
		<div class="Contenedor" align="center">
			<br>
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Fixtures disponibles</u></i></h1>
			</font>
			<br>
			<div>
				<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="bloadFixture" name="bloadFixture" onclick="hideElem('loadFixture')">Cargar Fixtures</button>
			</div>
			<br>
			<div>
				<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="bloadGame" name="bloadGame" onclick="hideElem('loadGame')">Cargar Juegos</button>
			</div>
			<br>
			<div>
				<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="bloadCountry" name="bloadCountry" onclick="hideElem('loadCountry')">Cargar paises</button>
			</div>
			<br>
			<div>
				<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="bloadTeam" name="bloadTeam" onclick="hideElem('loadTeam')">Cargar equipos</button>
			</div>
			<br>
			<div>
				<form method="post" action="/admin/main" method="post">
					<input id="action" notab="" hidden name="action" value="fixAvailable">
					<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="bloadResult" name="bloadResult" onclick="hideElem('loadResult')">Cargar resultados</button>
				</form>
			</div>
			<br>
			<div>
				<button style="width: 80%" class="btn btn-primary" data-toggle="button" aria-pressed="false" id="results" name="results" onclick="location.href ='/results'">Ver resultados</button>
			</div>
			<br>
		</div>

		<div id="loadCountry" class="Contenedor" style="display:none;width: 300px;" align="center">
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Cargue el pais</u></i></h1>
			</font>
			<br>
			<div class="form-group">
				<form method="post" action="/admin/main" id="form-registro" name="form-registro">
					<input id="action" hidden name="action" value="loadCountry">
					<input style="width: 80%" type="text" class="form-control" placeholder="Country" id="sendContrys" name="sendContrys" required>
					<br>
					<button type="submit" id="sendContry" name="sendContry" class="btn btn-primary" data-toggle="button" aria-pressed="false">Enviar</button>
				</form>
				<br>
			</div>
		</div>

		<div id="loadFixture" class="Contenedor" style="display:none;width: 300px;" align="center">
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Cargue el nombre del Fixtures</u></i></h1>
			</font>
			<br>
			<div class="form-group">
				<form method="post" action="/admin/main" id="form-registro" name="form-registro">
					<input id="action" hidden name="action" value="loadFixture">
					<input style="width: 80%" type="text" class="form-control" placeholder="Fixture" id="sendFixture" name="sendFixture" required>
					<br>
					<button type="submit" id="sendFixture" name="sendFixture" class="btn btn-primary" data-toggle="button" aria-pressed="false">Enviar</button>
				</form>
				<br>
			</div>
		</div>

		<div id="loadGame" class="Contenedor" style="{{^messageLoadgame}}display:none;{{/messageLoadgame}}{{#messageLoadgame}}display:block;{{/messageLoadgame}}width: 300px;" align="center">
			{{messageLoadgame}}
			<br>
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Cargue los datos del partido</u></i></h1>
			</font>
			<br>
			<div class="form-group">
				<form method="post" action="/admin/main" id="form-registro" name="form-registro">
					<input id="action" hidden name="action" value="loadGame">
					<select class="custom-select" id="visitante" name="visitante" required>
						{{#allTeams}} <option value='{{.}}'>{{.}}</option> {{/allTeams}}
					</select>
					<select class="custom-select" id="local" name="local" required>
						{{#allTeams}} <option value='{{.}}'>{{.}}</option> {{/allTeams}}
					</select>
					<br>
					<select class="custom-select" id="fixture" name="fixture" required>
						{{#allFixtures}} <option value='{{.}}'>{{.}}</option> {{/allFixtures}}
					</select>
					<br>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<label for="fecha" class="input-group-text" id="basic-addon1">Fecha Nro:</label>
						</div>
						<input id="fecha" name="fecha" type="number" class="form-control" required>
					</div>
					<br>
					<input id="date" type="date" name="date" required>
					<br>
					<button type="submit" id="sendGame" name="sendGame" class="btn btn-primary" data-toggle="button" aria-pressed="false">Enviar</button>
				</form>
				<br>
			</div>
		</div>

		<div id="loadTeam" class="Contenedor" style="display:none;width: 300px;" align="center">
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Ingrese el equipo</u></i></h1>
			</font>
			<br>
			<div class="form-group">
				<form method="post" action="/admin/main" id="form-registro" name="form-registro">
					<input id="action" hidden name="action" value="loadTeam">
					<input style="width: 80%" type="text" class="form-control" placeholder="Team" id="team" name="team" required>
					<br>
					<button type="submit" id="sendTeam" name="sendTeam" class="btn btn-primary" data-toggle="button" aria-pressed="false">Enviar</button>
				</form>
				<br>
			</div>
		</div>

		<div id="loadResult" class="Contenedor" align="center" style="{{^fixs}}display:none;{{/fixs}}	{{#fixs}}display:block;{{/fixs}}width: 300px;">
			<font color="Olive" face="Comic Sans MS,arial">
				<h1 align="center" style="margin-top: 15px"><i><u>Fixtures disponibles</u></i></h1>
			</font>
			<br>
			<form method="post" action="/admin/main" id="form-list-apuestas" name="form-list-apuestas">
				<input id="action" notab="" hidden name="action" value="fixtures">
					{{#fixs}}<div> <button class="btn btn-primary" data-toggle="button" aria-pressed="false" id="{{.}}" name="{{.}}" type="submit">{{.}}</button></div><br> {{/fixs}}
			</form>
		</div>

		{{#lastFixture}}
		<div class="Contenedor" id="lastFixture" style="display:block; width: 700px;" align="center">
			<div class="form-group">
				<font color="Olive" face="Comic Sans MS,arial">
					<h1 align="center"><i><u>{{lastFixture}}</u></i></h1>
					<h1 align="center"><i><u>Fecha NÂ°{{scheduleCurrent}}</u></i></h1>
				</font>
				<form method="post" action="/admin/main" id="form-registro" name="form-registro">
				<input id="action" notab="" type="hidden" name="action" value="matches">
				<table id="customers">
				  <tr>
					<th>Local</th>
					<th>Tu jugada</th>
					<th>Visitante</th>
				  </tr>
				  	{{#fixtureCurrent}}
				  	<tr>
				  		{{#.}}
					<td>{{visit}}</td>
					<th>
					<fieldset id="{{id}}" name="{{id}}">
							<input type="radio" name="{{id}}" value="local"> L
							<input type="radio" name="{{id}}" value="tie"> E
							<input type="radio" name="{{id}}" value="visit"> V
					</fieldset>
					</th>
					<td>{{local}}</td>
						{{/.}}
				    </tr>
				    {{/fixtureCurrent}}
				</table>
				<br>
				<button class="btn btn-primary" data-toggle="button" aria-pressed="false" id="apostar" name="apostar" type="submit">Confirmar Resultados</button>
				  </form>
			</div>
		</div>
		{{/lastFixture}}
	</div>
</div>

<script type="text/javascript">
	function hideElem(n) {
		var x = document.getElementById(n);
		if (document.getElementById("lastFixture") !== null){
			document.getElementById("lastFixture").style.display = "none";
		}
		document.getElementById('loadTeam').style.display = "none";
		document.getElementById('loadGame').style.display = "none";
		document.getElementById('loadResult').style.display = "none";
		document.getElementById('loadFixture').style.display = "none";
		document.getElementById("loadCountry").style.display = "none";
    x.style.display = "block";
	}

	var team1 = document.getElementById("visitante")
	var team2 = document.getElementById("local");
	var fx = document.getElementById("fecha");

	function notSameTeams(){
	  if(team1.value == team2.value) {
	    team2.setCustomValidity("Los equipos deben ser diferentes");
			return false;
	  } else {
	    team2.setCustomValidity('');
	  }
	}

	function fechaPositive(){
	  if(fx.value <= 0) {
	    fx.setCustomValidity("La fecha debe ser positiva");
			return false;
	  } else {
	    fx.setCustomValidity('');
	  }
	}

	team1.onchange = notSameTeams;
	team2.onchange = notSameTeams;
	fx.onchange = fechaPositive;
</script>
{{>../public/footer}}
